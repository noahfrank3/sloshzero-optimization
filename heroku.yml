---
build:
  docker:
    web: docker/Dockerfile.server
    scheduler: docker/Dockerfile.scheduler
    worker: docker/Dockerfile.worker

run:
  web: uvicorn src.main:app --host=0.0.0.0 --port=${FASTAPI_PORT}
  scheduler: dask scheduler
  worker: dask worker ${SCHEDULER_ADDRESS}
